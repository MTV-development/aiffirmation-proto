# Epic Context: l01 - fo-07: Mastra Agents

## Relevant Code
- `src/mastra/agents/fo-04/agent.ts` - Reference for discovery agent pattern
- `src/mastra/agents/fo-04/affirmation-agent.ts` - Reference for affirmation agent pattern
- `src/mastra/agents/fo-04/index.ts` - Reference for exports pattern
- `src/services/index.ts` - Contains getAgentSystemPrompt, getAgentModelName, getModel

## Architecture
- Each agent file exports:
  1. A static instance with DEFAULT_INSTRUCTIONS (e.g., `fo07DiscoveryAgent`)
  2. A factory function that loads from KV store (e.g., `createFO07DiscoveryAgent`)
- Factory functions use getAgentSystemPrompt and getAgentModelName to load from KV
- Agent IDs follow pattern: `fo-07-discovery-agent`, `fo-07-affirmation-agent`, etc.
- KV keys use pattern: `fo-07-discovery`, `fo-07-affirmation`, `fo-07-summary`

## Files to Create
- `src/mastra/agents/fo-07/agent.ts` - Discovery agent
- `src/mastra/agents/fo-07/affirmation-agent.ts` - Affirmation agent (20 at once)
- `src/mastra/agents/fo-07/summary-agent.ts` - Summary agent (NEW for FO-07)
- `src/mastra/agents/fo-07/index.ts` - Export all agents

## Key Patterns from FO-04

### Discovery Agent Pattern
```typescript
import { Agent } from '@mastra/core/agent';
import { getAgentModelName, getAgentSystemPrompt, getModel } from '@/src/services';

const DEFAULT_INSTRUCTIONS = `...`;

export const fo07DiscoveryAgent = new Agent({
  id: 'fo-07-discovery-agent',
  name: 'FO-07 Discovery',
  instructions: DEFAULT_INSTRUCTIONS,
  model: getModel(),
});

export async function createFO07DiscoveryAgent(implementation: string = 'default'): Promise<Agent> {
  const systemPrompt = await getAgentSystemPrompt('fo-07-discovery', implementation);
  const modelName = await getAgentModelName('fo-07-discovery', implementation);

  return new Agent({
    id: `fo-07-discovery-agent-${implementation}`,
    name: 'FO-07 Discovery',
    instructions: systemPrompt || DEFAULT_INSTRUCTIONS,
    model: getModel(modelName || undefined),
  });
}
```

## Testing
- Run `npx tsc --noEmit` to verify TypeScript compilation
- Imports should work without errors

## Conventions
- DEFAULT_INSTRUCTIONS can be a shortened version of the KV system prompt (for fallback)
- Use `@/src/services` import alias for services
- Use `@mastra/core/agent` for Agent import
