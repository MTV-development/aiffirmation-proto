{
  "id": "cfk",
  "title": "Create actions.ts with discovery and affirmation server actions",
  "description": "Create app/fo-09/actions.ts based on FO-08 actions.ts with these changes:\n\n1. **Import FO-09 agents** (not FO-08): createFO09DiscoveryAgent, createFO09AffirmationAgent\n2. **Remove reflectiveStatement** from validation (isValidDynamicScreenResponse should NOT check for reflectiveStatement)\n3. **Update generateFirstScreenFragments** to accept topics: string[] parameter in addition to name, so screen 1 sentences are topic-relevant\n4. **Generate 5 affirmations** per batch (not 10): update buildAffirmationPrompt to request 5\n5. **Full feedback loop** in buildAffirmationPrompt:\n   - Loved affirmations (generate more like these)\n   - Discarded affirmations (avoid similar patterns)\n   - All previous affirmations (do not repeat)\n6. **Remove generateSummary** function (no summary agent in FO-09)\n7. **Export generateAffirmationBatchFO09** (not FO08)\n\nKey functions:\n- generateFirstScreenFragments(name, topics, implementation?) -\u003e FirstScreenFragmentsResponse\n- generateDynamicScreen(context, implementation?) -\u003e DynamicScreenResponse\n- generateAffirmationBatchFO09(options) -\u003e FO09GenerateBatchResult\n- buildAffirmationPrompt(context, approvedAffirmations, skippedAffirmations) -\u003e string\n\nFiles to create:\n- app/fo-09/actions.ts\n\nReference:\n- app/fo-08/actions.ts (base, ~520 lines)\n- Spec: Implementation Notes #8, #10\n\nDo not close until acceptance criteria pass.",
  "status": "open",
  "priority": 2,
  "type": "task",
  "owner": "morten@elk.dk",
  "blocked_by": [
    "5ax"
  ],
  "parent": "9gv",
  "acceptance_criteria": "File app/fo-09/actions.ts exists AND contains generateFirstScreenFragments with topics parameter AND contains 'Generate 5' in buildAffirmationPrompt AND does NOT contain generateSummary AND npm run build succeeds",
  "created_by": "morten@elk.dk",
  "created_at": "2026-01-30T13:05:31.4168455Z",
  "updated_at": "2026-01-30T13:05:31.4168455Z"
}