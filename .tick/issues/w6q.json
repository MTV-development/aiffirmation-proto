{
  "id": "w6q",
  "title": "Create FO-05 server actions",
  "description": "Create FO-05 server actions that pass question+answer to agent and handle fragment response.\n\nFiles to create:\n- `app/fo-05/actions.ts` - Server actions for FO-05\n\nKey changes from FO-04 actions.ts:\n1. Update `DynamicScreenResponse` interface to use `initialFragments` and `expandedFragments`\n2. In `buildDiscoveryPrompt`, include both question AND answer in the conversation history (FO-04 only includes answer)\n3. Update `isValidDynamicScreenResponse` type guard for new field names\n4. Copy `generateAffirmationBatchFO04` and rename to `generateAffirmationBatchFO05`\n\nThe key difference is that when building the prompt, each exchange should clearly show:\n- The question that was asked\n- The user's answer (text + selected fragments)\n\nThis gives the agent better context to vary its reflective statements.",
  "status": "closed",
  "priority": 2,
  "type": "task",
  "owner": "morten@elk.dk",
  "blocked_by": [
    "pb7"
  ],
  "parent": "zi4",
  "acceptance_criteria": "app/fo-05/actions.ts exists with generateDynamicScreen and generateAffirmationBatchFO05; DynamicScreenResponse uses initialFragments/expandedFragments; npm run build succeeds",
  "created_by": "morten@elk.dk",
  "created_at": "2026-01-24T06:53:39.9638509Z",
  "updated_at": "2026-01-24T07:13:31.361377Z",
  "closed_at": "2026-01-24T07:13:31.361377Z",
  "closed_reason": "Created FO-05 server actions with generateDynamicScreen and generateAffirmationBatchFO05. Updated DynamicScreenResponse to use initialFragments/expandedFragments. TypeScript and lint checks pass."
}